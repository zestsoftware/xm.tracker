<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="eXtremeManagement">

  <head>
    <metal:block fill-slot="top_slot"
                 tal:define="dummy python:request.set('disable_border', 1)" />
  </head>
  <body>
    <div metal:fill-slot="main">
      <div metal:define-macro="body">
      <div tal:define="tracker view/tracker">  
        <div id="timer"
             style="float:right"
             tal:content="view/time_spent" />
     
        <h1 class="documentFirstHeading"
            i18n:translate="head_timetracker">Time Tracker</h1>
        
        <form tal:condition="not: tracker/starttime"
            method="post"
            action="@@tracker_start">
          <input type="submit"
                 name="start"
                 id="start-timer"
                 value="Start working" />
        </form>
        <form tal:condition="tracker/starttime"
            method="post"
            action="@@tracker_stop">
          <input type="submit"
                 name="stop"
                 id="stop-timer"
                 value="Stop and reset" />
        </form>
        <!-- XXX Remove demo button before releasing. -->
        <form method="post"
              action="@@tracker_demo">
          <input type="submit"
                 name="demo"
                 value="Clear tracker and add demo tracked tasks" />

        </form>
        <form method="post"
              action="@@tracker_add_tasks">
          <input type="submit"
                 name="select"
                 id="add-tasks"
                 value="Clear tracker and add all xm todo-tasks" />

        </form>
        <hr />
        <div class="tracker-tasks"
             tal:content="structure provider:xm.tracker.tasklist" />
        </div>
      </div>
    </div>
  </body>
</html>
