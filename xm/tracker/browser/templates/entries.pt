<form method="post"
      action=""
      tal:define="task nocall:view/task"
      tal:attributes="class string:edit-entries task-${task/uid}"
      i18n:domain="tracker">
  <table class="entry_table"
         tal:condition="view/entries">
    <tbody>
      <tr class="time_entry"
          tal:repeat="entry view/entries">
        <td>
          <input type="text"
                 name="text"
                 class="entry_text_time_edit"
                 size="60"
                 tal:attributes="name string:text-${task/uid}-${repeat/entry/index};
                                 value entry/text;
                                 title entry/date;" />
        </td>
        <td>
          <input type="text"
                 name="time"
                 class="entry_text_time_edit"
                 size="4"
                 tal:attributes="name string:time-${task/uid}-${repeat/entry/index};
                                 value entry/time" />
          <form method="post"
                action="dummy_for_firefox">
            <div>
              <input type="hidden"
                     name="firefox_wants_to"
                     value="delete_one_so_this_one_is_ok"/>
            </div>
          </form>
        </td>
        <td tal:condition="task/is_unassigned">
          <form method="post"
                action="">
              <input type="hidden"
                     name="uid"
                     tal:attributes="value task/uid" />
              <input type="hidden"
                     name="entry_number"
                     tal:attributes="value repeat/entry/index" />
              <input type="submit"
                     class="book_to_task_submit"
                     name="book_to_task"
                     value="Book to task"
                     i18n:attributes="value label_book_to_task" />
          </form>
        </td>
        <td>
          <form method="post"
                action="@@remove_entry">
              <input type="hidden"
                     name="uid"
                     tal:attributes="value task/uid" />
              <input type="hidden"
                     name="entry_number"
                     tal:attributes="value repeat/entry/index" />
              <input type="image"
                     name="remove"
                     src="delete_icon.gif"
                     class="remove-entry"
                     value="Remove"
                     i18n:attributes="value label_remove" />
          </form>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="hidden-controls">
    <input type="submit"
           name="submit"
           class="edit-entries-button"
           value="Save"
           i18n:domain="plone"
           i18n:attributes="value button_save" />

    <input type="button"
           name="cancel"
           value="Cancel"
           class="edit-entries-cancel"
           i18n:domain="plone"
           i18n:attributes="value button_cancel" />
  </div>
</form>